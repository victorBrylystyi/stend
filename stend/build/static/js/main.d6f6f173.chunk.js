(this.webpackJsonpstend=this.webpackJsonpstend||[]).push([[0],{39:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n.n(r),u=n(31),c=n.n(u),s=(n(39),n(47)),o=n(15),i=n(11),l=n(10),f=n(9),g=n(1),b=n(32),j=new g.LoadingManager,d=new b.a(j),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n={current:e},r=function(){return n.current},a=function(e){n.current=e,s()},u=function(e){return-1===t.indexOf(e)&&t.push(e)},c=function(e){return-1!==t.indexOf(e)&&t.splice(t.indexOf(e),1)},s=function(){for(var e=t.length-1;e>=0;e--){var r=t[e];r&&r(n.current)}};return{get:r,set:a,subscribe:u,unsubscribe:c}},v=O({}),m=new g.TextureLoader,h="PENDING",p="SUCCESS",x="ERROR",w=function(e){var t=v.get();return t[e]&&t[e].status===p},E=function(e){return e?v.get()[e]?void 0:(v.set(Object(f.a)(Object(f.a)({},v.get()),{},Object(l.a)({},e,{data:null,status:h,usageCount:0,lastUsedDate:Date.now()}))),new Promise((function(t,n){var r=v.get();if(r[e].data)t(r[e]);else{var a;switch(e.match(/(\.(glb|gltf|jpg|jpeg|png))$/gim)[0].toLowerCase()){case".gltf":case".glb":a=d;break;case".jpg":case".jpeg":case".png":a=m}a.load(e,(function(n){v.set(Object(f.a)(Object(f.a)({},v.get()),{},Object(l.a)({},e,{data:n,status:p,usageCount:r[e].usageCount,lastUsedDate:r[e].lastUsedDate}))),t(r[e])}),null,(function(t){v.set(Object(f.a)(Object(f.a)({},v.get()),{},Object(l.a)({},e,{data:null,status:x}))),n(t)}))}}))):Promise.resolve(null)},C=function(e){var t=Object(r.useState)(e||[]),n=Object(i.a)(t,2),a=n[0],u=n[1];return Object(r.useEffect)((function(){var t=e.filter((function(e){return t=e,!Boolean(v.get()[t]);var t})),n=e.filter((function(e){return t=e,v.get()[t]&&v.get()[t].status===h;var t}));t.length>0&&t.map(E),u(t.concat(n));for(var r=0;r<e.length;r++)v.get()[e[r]].usageCount+=1,v.get()[e[r]].lastUsedDate=Date.now();return function(){for(var e=Object.keys(v.get()),t=0;t<e.length;t++){var n=e[t],r=v.get()[n];0===r.usageCount&&(Date.now()-r.lastUsedDate)/6e4>=15&&delete v.get()[n]}}(),function(){for(var t=0;t<e.length;t++){var n=v.get()[e[t]];n&&(n.usageCount-=1)}}}),[e.reduce((function(e,t){return e+t}),"")]),Object(r.useEffect)((function(){if(0!==a.length){var e=function(){var e=a.filter((function(e){return!w(e)}));e.length!==a.length&&u(e)};return v.subscribe(e),function(){v.unsubscribe(e)}}}),[a,e]),{assets:Object(r.useMemo)((function(){var t=v.get();return e.filter(w).map((function(e){return t[e].data}))}),[a,e]),loaded:0===a.length}},D=function(e){var t=C(e?[e]:[]),n=t.assets,r=t.loaded;return{asset:n[0],loaded:r}},M=n(12),S=function(e){var t=e.path,n=D(t).asset,a=Object(r.useMemo)((function(){if(n){var e=[];return n.scene.traverse((function(t){t.isMesh&&e.push(Object(M.jsx)("primitive",{object:t},"".concat(t.uuid)))})),e}return[]}),[n]);return Object(M.jsx)("group",{position:[0,0,0],children:a})},U=function(){var e=D("./assets/env/fireplace.jpg").asset,t=Object(o.c)((function(e){return e.get}));return Object(r.useEffect)((function(){t().scene.background=e}),[e]),null},k=function(e){var t=e.camera,n=e.domElement,a=Object(r.useRef)();return Object(M.jsx)(s.a,{args:[t,n],ref:a,enablePan:!0,enableZoom:!0,enableRotate:!0})},R=function(){console.log("SandBox");var e=Object(o.c)(),t=e.camera,n=e.gl;return Object(M.jsx)(k,{camera:t,domElement:n.domElement})},L=function(){var e=Object(r.useMemo)((function(){return{url:"./assets/models/rim.glb"}}),[]),t=Object(r.useMemo)((function(){return{url:"./assets/models/stend.glb"}}),[]);return Object(M.jsxs)(o.a,{children:[Object(M.jsx)(U,{}),Object(M.jsx)(R,{}),Object(M.jsx)("ambientLight",{color:"white",intensity:1}),Object(M.jsx)(S,{path:e.url}),Object(M.jsx)(S,{path:t.url})]})},P=function(){return Object(M.jsx)(L,{})};c.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(P,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d6f6f173.chunk.js.map